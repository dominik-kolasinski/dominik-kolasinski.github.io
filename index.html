<html>
  <head>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/v2.1.1/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
    <!-- <script src="easyrtc/easyrtc.js"></script> -->
    <!-- <script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js"></script> -->
    <script src="https://rawgit.com/donmccurdy/aframe-extras/v2.1.1/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <!-- <script>
      function onConnect () {
        var position = '0 1.3 0';
        var rotation = '0 0 0';
        NAF.entities.createAvatar('#avatar-template', position, rotation);
      }
    </script> -->
    <script src="player.js"></script>
  </head>
  <body>
    <a-scene>

    <a-assets>
      <a-asset-item id="psycho-head1" src="/assets/psycho-head1.ply"></a-asset-item>

      <img id="grid" src="https://img.gs/bbdkhfbzkk/stretch/https://i.imgur.com/25P1geh.png" crossorigin="anonymous">
      <img id="sky" src="https://img.gs/bbdkhfbzkk/2048x2048,stretch/http://i.imgur.com/WqlqEkq.jpg" crossorigin="anonymous" />

      <a-entity ply-model="src: #psycho-head1" rotation="-90 0 0"></a-entity>

      <script id="bullet-template" type="text/html">
        <a-sphere class="bullet"
          scale="1 1 1"
          color="#fff"
        ></a-sphere>
      </script>

      <script id="avatar-template" type="text/html">
        <a-entity class="avatar">
          <a-entity ply-model="src: #psycho-head1" rotation="-90 180 0" position="0 -10 0"></a-entity>
          <a-entity class="gun">
            <a-box
              position="0.51 -0.13 -0.29"
              scale="0.19 0.23 0.67"
              color="#000"
            ></a-box>
            <a-entity class="gun-tip"
              position="0.51 -0.10 -0.64"
            ></a-entity>
          </a-entity>
        </a-entity>

        <!-- <a-entity class="avatar">
          <a-sphere class="head"
            color="#5985ff"
            scale="0.45 0.5 0.4"
            random-color
          ></a-sphere>
          <a-entity class="face"
            position="0 0.05 0"
          >
            <a-sphere class="eye"
              color="#efefef"
              position="0.16 0.1 -0.35"
              scale="0.12 0.12 0.12"
            >
              <a-sphere class="pupil"
                color="#000"
                position="0 0 -1"
                scale="0.2 0.2 0.2"
              ></a-sphere>
            </a-sphere>
            <a-sphere class="eye"
              color="#efefef"
              position="-0.16 0.1 -0.35"
              scale="0.12 0.12 0.12"
            >
              <a-sphere class="pupil"
                color="#000"
                position="0 0 -1"
                scale="0.2 0.2 0.2"
              ></a-sphere>
            </a-sphere>
          </a-entity>
          <a-entity class="gun">
            <a-box
              position="0.51 -0.13 -0.29"
              scale="0.19 0.23 0.67"
              color="#000"
            ></a-box>
            <a-entity class="gun-tip"
              position="0.51 -0.10 -0.64"
            ></a-entity>
          </a-entity>
        </a-entity> -->
      </script>



      </a-assets>
      <a-entity position="0 0 0"
        geometry="primitive: plane; width: 10000; height: 10000;" rotation="-90 0 0"
        material="src: #grid; repeat: 10000 10000; transparent: true; metalness:0.6; roughness: 0.4; sphericalEnvMap: #sky;"></a-entity>

      <a-entity light="color: #ccccff; intensity: 1; type: ambient;" visible=""></a-entity>
      <a-entity light="color: #ffaaff; intensity: 1.5" position="5 5 5"></a-entity>

      <a-sky src="#sky" rotation="0 -90 0"></a-sky>
    </a-scene>
  </body>
</html>
